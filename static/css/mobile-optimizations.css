/* ========================================
   移动端全面优化 CSS
   ======================================== */

/* 移动端专用样式 */
@media (max-width: 768px) {
  
  /* ==================== 导航栏优化 ==================== */
  /* 导航栏更窄 */
  header {
    padding-top: 0.35rem !important;
    padding-bottom: 0.35rem !important;
  }
  
  header > div {
    padding: 0.5rem 0.75rem !important;
  }
  
  /* 移动端菜单按钮图标更大,和其他图标一样 */
  #mobile-menu-toggle {
    width: 2.25rem !important;
    height: 2.25rem !important;
  }
  
  #mobile-menu-toggle svg {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }
  
  /* 主内容区域 - 更紧凑（类似 arthals.ink/blog 的密度） */
  main {
    padding: 0.75rem 0.9rem !important;
  }
  
  /* ==================== 文章详情页Meta和标题对齐 ==================== */
  /* 确保meta信息和标题在移动端也左对齐 */
  .post-meta {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  .post-meta h1 {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  /* 文章内容与meta对齐 */
  article.prose {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  /* ==================== 首页文章列表优化 ==================== */
  
  /* 方案1: 使用类名选择器 - 隐藏移动端顶部封面 */
  .post-list article > a > div > div.block.md\:hidden {
    display: none !important;
  }
  
  /* 方案2: 使用更通用的选择器 */
  .post-list article .md\:hidden {
    display: none !important;
  }

  
  /* 列表标题更紧凑 */
  .post-list > div.mb-6 {
    margin-bottom: 0.75rem !important;
  }

  .post-list > div.mb-6 h2 {
    font-size: 1.125rem !important;
    line-height: 1.25 !important;
  }

  /* 卡片：收紧圆角/内边距 */
  .post-list article > a > div {
    border-radius: 0.75rem !important;
  }

  /* 卡片内容区（真正的 p-6 在这里） */
  .post-list article > a > div > div.relative.z-10 {
    padding: 0.85rem 0.9rem !important;
  }

  /* 右侧 desktop padding 占位（md:pr-84）在移动端直接去掉 */
  .post-list article .md\:pr-84 {
    padding-right: 0.9rem !important;
  }
  
  /* 标题优化 */
  .post-list article h3 {
    font-size: 0.95rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.35rem !important;
  }
  
  /* 摘要：移动端更紧凑（默认隐藏，信息密度更像列表） */
  .post-list article p.text-muted-foreground {
    display: none !important;
  }
  
  /* 元信息区域 */
  .post-list article .mt-auto {
    margin-top: 0.35rem !important;
  }
  
  .post-list article .text-sm {
    font-size: 0.75rem !important;
  }

  /* 元信息行间距更紧 */
  .post-list article .mt-auto .flex.items-center.gap-3 {
    gap: 0.5rem !important;
  }

  /* 标签行：移动端隐藏以更紧凑 */
  .post-list article .mt-auto > .flex.flex-wrap {
    display: none !important;
  }
  
  /* 卡片间距缩小 */
  .post-list .space-y-4 {
    gap: 0.5rem !important;
  }
  
  .post-list .space-y-4 > * + * {
    margin-top: 0.5rem !important;
  }
  
  /* 标签更小 */
  .post-list article .flex-wrap span {
    font-size: 0.6875rem !important;
    padding: 0.125rem 0.375rem !important;
  }
  
  /* ==================== 上一篇/下一篇导航优化 ==================== */
  
  /* 减少高度 */
  .post-navigation a,
  .post-navigation > div > div > div {
    min-height: 72px !important;
    padding: 0.75rem !important;
  }
  
  /* 标题更小 */
  .post-navigation h3 {
    font-size: 0.9375rem !important;
    margin-bottom: 0.5rem !important;
    line-height: 1.3 !important;
  }
  
  /* 标签文字更小 */
  .post-navigation .text-sm {
    font-size: 0.75rem !important;
  }
  
  /* 日期更小 */
  .post-navigation .text-xs {
    font-size: 0.6875rem !important;
  }
  
  /* 减少间距 */
  .post-navigation .mb-3 {
    margin-bottom: 0.5rem !important;
  }
  
  /* 导航区域整体 */
  .post-navigation {
    margin-bottom: 1.5rem !important;
  }
  
  /* 卡片间距 */
  .post-navigation .gap-4 {
    gap: 0.5rem !important;
  }
  
  /* ==================== 相关文章优化 ==================== */
  
  /* 减少高度 */
  .related-posts article > a > div {
    min-height: 64px !important;
    padding: 0.65rem 0.75rem !important;
  }
  
  /* 标题更小 */
  .related-posts h3 {
    font-size: 0.875rem !important;
    line-height: 1.3 !important;
  }
  
  /* 标题区域 */
  .related-posts > div.mb-6 h2 {
    font-size: 1.25rem !important;
  }
  
  /* 减少上边距 */
  .related-posts {
    margin-bottom: 1.5rem !important;
  }
  
  .related-posts > div.mb-6 {
    margin-bottom: 1rem !important;
  }
  
  /* 网格间距 */
  .related-posts .gap-4 {
    gap: 0.5rem !important;
  }
  
  /* 单列显示 */
  .related-posts > div:last-child {
    grid-template-columns: 1fr !important;
  }
  
  /* ==================== 版权声明优化 ==================== */
  
  .post-license {
    padding: 0.75rem !important;
    margin-bottom: 1.25rem !important;
  }
  
  .post-license h3 {
    font-size: 0.9375rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .post-license .text-sm {
    font-size: 0.75rem !important;
  }
  
  .post-license p {
    margin-bottom: 0.25rem !important;
  }
  
  .post-license .space-y-2 {
    gap: 0.25rem !important;
  }
  
  .post-license .space-y-2 > * + * {
    margin-top: 0.25rem !important;
  }
  
  /* ==================== 面包屑导航 ==================== */
  
  nav[aria-label*="面包屑"],
  nav[aria-label*="Breadcrumb"] {
    margin-bottom: 0.75rem !important;
    font-size: 0.8125rem !important;
    padding: 0.75rem 0.9rem !important;
  }
  
  /* ==================== 文章头部信息 ==================== */
  
  header.mb-8 {
    margin-bottom: 1rem !important;
  }
  
  /* ==================== 评论区 ==================== */
  
  .giscus,
  .giscus-frame {
    margin-top: 1rem !important;
  }
}

/* ==================== 桌面端优化 ==================== */
@media (min-width: 769px) {
  /* 文章详情页上一篇/下一篇同一排显示,防止文字超出 */
  .post-navigation {
    margin-bottom: 2rem !important;
  }
  
  .post-navigation .grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 1rem !important;
  }
  
  .post-navigation h3 {
    font-size: 0.95rem !important;
    line-height: 1.35 !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
  }
  
  .post-navigation a,
  .post-navigation > div > div > div {
    min-height: 100px !important;
    max-height: 140px !important;
    padding: 1rem !important;
  }
  
  /* 版权声明稍紧凑 */
  .post-license {
    padding: 1.125rem 1.25rem !important;
  }
}

/* ==================== 通用优化 ==================== */

/* 版权声明链接换行 */
.post-license a {
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

/* 确保移动端图片完全隐藏 */
@media (max-width: 768px) {
  /* 针对首页 */
  body:not(.single) .post-list .md\:block {
    display: none !important;
  }
  
  /* 隐藏绝对定位的桌面端图片 */
  .post-list article .absolute.md\:block {
    display: none !important;
  }
  
  /* 移除右侧padding */
  .post-list article .md\:pr-84 {
    padding-right: 0.9rem !important;
  }
}
