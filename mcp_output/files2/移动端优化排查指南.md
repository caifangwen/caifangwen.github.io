# ç§»åŠ¨ç«¯ä¼˜åŒ–å®Œæ•´éƒ¨ç½²æŒ‡å—

## ğŸ” ä¸ºä»€ä¹ˆç§»åŠ¨ç«¯æ²¡å˜åŒ–ï¼Ÿå¸¸è§åŸå› 

### 1. CSSæ–‡ä»¶æœªæ­£ç¡®åŠ è½½
**æ£€æŸ¥æ–¹æ³•ï¼š**
```bash
# ç¡®è®¤æ–‡ä»¶å­˜åœ¨
dir static\css\mobile-optimizations.css

# è®¿é—®æµè§ˆå™¨
http://localhost:1313/css/mobile-optimizations.css
```

**å¦‚æœ404ï¼š**
- æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦æ­£ç¡®
- æ£€æŸ¥è·¯å¾„æ˜¯å¦ä¸º `static/css/mobile-optimizations.css`
- é‡å¯ Hugo æœåŠ¡å™¨

### 2. CSSæœªåœ¨é…ç½®ä¸­å¼•ç”¨
**æ£€æŸ¥ï¼š** `config/_default/params.yaml`
```yaml
customCSS:
  - "css/custom.css"
  - "css/mobile-optimizations.css"  # å¿…é¡»å­˜åœ¨è¿™ä¸€è¡Œ
```

### 3. æµè§ˆå™¨ç¼“å­˜é—®é¢˜
**è§£å†³æ–¹æ³•ï¼š**
- Chrome/Edge: Ctrl + Shift + R (ç¡¬åˆ·æ–°)
- Firefox: Ctrl + F5
- æˆ–æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Network â†’ å‹¾é€‰ "Disable cache"

### 4. æ ·å¼ä¼˜å…ˆçº§ä¸å¤Ÿ
ä½¿ç”¨å¢å¼ºç‰ˆCSSï¼ˆå¸¦ `!important`ï¼‰ï¼š
- `mobile-optimizations-enhanced.css`

---

## ğŸ“‹ å®Œæ•´éƒ¨ç½²æ¸…å•

### âœ… ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç›®å½•ç»“æ„
```bash
cd E:\Fr-hugo

# åˆ›å»ºæ‰€æœ‰å¿…è¦ç›®å½•
mkdir content\discussions
mkdir layouts\discussions
mkdir layouts\_partials\content
mkdir static\css
mkdir archetypes
```

### âœ… ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²è®¨è®ºæ¿å—æ–‡ä»¶

#### æ–‡ä»¶1: `content/discussions/_index.md`
```markdown
---
title: "è®¨è®º"
description: "åˆ†äº«æƒ³æ³•ï¼Œäº¤æµè§‚ç‚¹"
type: "discussions"
---

æ¬¢è¿æ¥åˆ°è®¨è®ºåŒºï¼è¿™é‡Œæ˜¯åˆ†äº«æƒ³æ³•å’Œäº¤æµè§‚ç‚¹çš„åœ°æ–¹ã€‚
```

#### æ–‡ä»¶2: `layouts/discussions/single.html`
ä½¿ç”¨ `discussions-single-giscus.html` çš„å†…å®¹

#### æ–‡ä»¶3: `layouts/discussions/list.html`
ä½¿ç”¨ `discussions-list.html` çš„å†…å®¹

#### æ–‡ä»¶4: `archetypes/discussions.md`
ä½¿ç”¨ `discussions.md` çš„å†…å®¹

### âœ… ç¬¬ä¸‰æ­¥ï¼šéƒ¨ç½²CSSä¼˜åŒ–

#### å…³é”®æ–‡ä»¶: `static/css/mobile-optimizations.css`
**é‡è¦ï¼š** ä½¿ç”¨ `mobile-optimizations-enhanced.css` çš„å†…å®¹

è¿™ä¸ªæ–‡ä»¶åŒ…å«ï¼š
- âœ… å¯¼èˆªæ é«˜åº¦ä¼˜åŒ–ï¼ˆå‡å°‘50%ï¼‰
- âœ… é¦–é¡µåˆ—è¡¨éšè—å›¾ç‰‡
- âœ… å¡ç‰‡æ‰å¹³åŒ–
- âœ… ä¸Šä¸‹ç¯‡å¯¼èˆªä¼˜åŒ–
- âœ… ç›¸å…³æ–‡ç« ä¼˜åŒ–
- âœ… ç‰ˆæƒå£°æ˜ç®€åŒ–

### âœ… ç¬¬å››æ­¥ï¼šéƒ¨ç½²ç»„ä»¶ä¼˜åŒ–ï¼ˆå¯é€‰ä½†æ¨èï¼‰

#### é€‰é¡¹Aï¼šè¦†ç›–ä¸»é¢˜æ–‡ä»¶ï¼ˆæ¨èï¼‰
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ï¼ŒHugoä¼šè‡ªåŠ¨ä¼˜å…ˆä½¿ç”¨ï¼š

```
layouts/_partials/content/post-navigation.html
layouts/_partials/content/related-posts.html
layouts/_partials/content/post-license.html
```

#### é€‰é¡¹Bï¼šç›´æ¥ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶
```
themes/hugo-narrow/layouts/_partials/content/post-navigation.html
themes/hugo-narrow/layouts/_partials/content/related-posts.html
themes/hugo-narrow/layouts/_partials/content/post-license.html
```

### âœ… ç¬¬äº”æ­¥ï¼šæ›´æ–°é…ç½®

#### `config/_default/params.yaml`
å…³é”®ä¿®æ”¹ï¼š
```yaml
# å¤´åƒè·¯å¾„
author:
  avatar: "/å¤´åƒ.jpg"

# ç‰ˆæƒå£°æ˜ï¼ˆç®€åŒ–ï¼‰
post:
  license:
    show: true
    author: "æŸæ–¹"
    name: "CC BY-NC-SA 4.0"
    url: "https://creativecommons.org/licenses/by-nc-sa/4.0/"
    displayName: "CC BY-NC-SA 4.0"

# CSSæ–‡ä»¶
customCSS:
  - "css/custom.css"
  - "css/mobile-optimizations.css"
```

#### `config/_default/menus.yaml`
æ·»åŠ è®¨è®ºæ¿å—ï¼š
```yaml
  - identifier: discussions
    name: è®¨è®º
    url: /discussions/
    weight: 3
    params:
      icon: message-circle
```

### âœ… ç¬¬å…­æ­¥ï¼šå¤åˆ¶å¤´åƒ
```bash
copy assets\å¤´åƒ.jpg static\å¤´åƒ.jpg
```

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. å¯åŠ¨æµ‹è¯•æœåŠ¡å™¨
```bash
hugo server -D
```

### 2. ç§»åŠ¨ç«¯æµ‹è¯•æ–¹æ³•

#### æ–¹æ³•1ï¼šChrome DevTools
1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. ç‚¹å‡»è®¾å¤‡å›¾æ ‡ï¼ˆToggle device toolbarï¼‰æˆ– Ctrl+Shift+M
3. é€‰æ‹© iPhone SE æˆ–å…¶ä»–å°å±è®¾å¤‡
4. åˆ·æ–°é¡µé¢

#### æ–¹æ³•2ï¼šå®é™…æ‰‹æœºæµ‹è¯•
1. æŸ¥çœ‹ç”µè„‘IPï¼š`ipconfig`
2. æ‰‹æœºæµè§ˆå™¨è®¿é—®ï¼š`http://ä½ çš„ç”µè„‘IP:1313`
3. ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€WiFi

### 3. éªŒè¯æ¸…å•

æ‰“å¼€ç§»åŠ¨ç«¯è§†å›¾åæ£€æŸ¥ï¼š

#### é¦–é¡µ
- [ ] å¯¼èˆªæ æ˜æ˜¾å˜çª„ï¼ˆpaddingå‡å°‘ï¼‰
- [ ] æ–‡ç« åˆ—è¡¨æ²¡æœ‰å›¾ç‰‡
- [ ] å¡ç‰‡æ›´æ‰ï¼ˆé«˜åº¦é™ä½ï¼‰
- [ ] å¡ç‰‡é—´è·æ›´å°

#### æ–‡ç« è¯¦æƒ…é¡µ
- [ ] ä¸Šä¸€ç¯‡/ä¸‹ä¸€ç¯‡å¡ç‰‡æ›´å°ï¼ˆé«˜åº¦çº¦80pxï¼‰
- [ ] ç›¸å…³æ–‡ç« å¡ç‰‡æ›´æ‰ï¼ˆé«˜åº¦çº¦90pxï¼‰
- [ ] ç‰ˆæƒå£°æ˜æ›´ç´§å‡‘

#### è®¨è®ºæ¿å—
- [ ] `/discussions/` å¯ä»¥è®¿é—®
- [ ] åˆ›å»ºè®¨è®ºåæ— ç‰ˆæƒå£°æ˜
- [ ] åˆ›å»ºè®¨è®ºåæ— ä¸Šä¸‹ç¯‡å¯¼èˆª
- [ ] Giscusè¯„è®ºæ­£å¸¸æ˜¾ç¤º

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šCSSå®Œå…¨æ²¡åŠ è½½

**ç—‡çŠ¶ï¼š** æ ·å¼ä¸€ç‚¹å˜åŒ–éƒ½æ²¡æœ‰

**æ£€æŸ¥æ­¥éª¤ï¼š**
```bash
# 1. ç¡®è®¤æ–‡ä»¶å­˜åœ¨
dir static\css\mobile-optimizations.css

# 2. æ£€æŸ¥é…ç½®
type config\_default\params.yaml | findstr "customCSS"

# 3. æŸ¥çœ‹ç”Ÿæˆçš„HTML
curl http://localhost:1313 | findstr "mobile-optimizations"
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®ä¿ `static/css/mobile-optimizations.css` å­˜åœ¨
- ç¡®ä¿ `params.yaml` ä¸­æœ‰æ­£ç¡®çš„ `customCSS` é…ç½®
- é‡å¯ Hugo: Ctrl+C ç„¶åé‡æ–° `hugo server -D`

### é—®é¢˜2ï¼šé¦–é¡µå›¾ç‰‡è¿˜åœ¨æ˜¾ç¤º

**ç—‡çŠ¶ï¼š** ç§»åŠ¨ç«¯æ–‡ç« åˆ—è¡¨ä»æ˜¾ç¤ºå°é¢å›¾

**åŸå› ï¼š** CSSé€‰æ‹©å™¨å¯èƒ½ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆï¼š**
ä½¿ç”¨ `mobile-optimizations-enhanced.css`ï¼ŒåŒ…å«å¤šç§é€‰æ‹©å™¨ï¼š
```css
/* å¤šé‡ä¿é™© */
.post-list article > a > div > div.block.md\:hidden {
    display: none !important;
}

.post-list article .md\:hidden {
    display: none !important;
}

.post-list .md\:block {
    display: none !important;
}
```

### é—®é¢˜3ï¼šæ¡Œé¢ç«¯ä¹Ÿå—å½±å“

**ç—‡çŠ¶ï¼š** æ¡Œé¢ç‰ˆæ ·å¼ä¹Ÿå˜äº†

**åŸå› ï¼š** åª’ä½“æŸ¥è¯¢å¯èƒ½å¤±æ•ˆ

**æ£€æŸ¥ï¼š**
ç¡®ä¿æ‰€æœ‰ç§»åŠ¨ç«¯æ ·å¼éƒ½åœ¨ `@media (max-width: 768px)` å†…

### é—®é¢˜4ï¼šGiscusè¯„è®ºä¸æ˜¾ç¤º

**ç—‡çŠ¶ï¼š** è®¨è®ºé¡µé¢æ— è¯„è®ºæ¡†

**æ£€æŸ¥ï¼š**
```yaml
# config/_default/params.yaml
comments:
  enabled: true
  system: "giscus"
  giscus:
    repo: "ä½ çš„ç”¨æˆ·å/ä»“åº“å"
    repoId: "ä½ çš„RepoID"
    category: "Announcements"
    categoryId: "ä½ çš„CategoryID"
```

**è·å–é…ç½®ï¼š**
è®¿é—® https://giscus.app/zh-CN é…ç½®

---

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–æ•ˆæœå¯¹æ¯”

### å¯¼èˆªæ 
| é¡¹ç›® | ä¿®æ”¹å‰ | ä¿®æ”¹å | èŠ‚çœ |
|------|--------|--------|------|
| ä¸Šä¸‹padding | 1.5rem | 0.5rem | 66% |
| å†…å®¹padding | 1.5rem | 0.625rem | 58% |

### æ–‡ç« åˆ—è¡¨å¡ç‰‡
| é¡¹ç›® | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| å°é¢å›¾ | æ˜¾ç¤º | éšè— |
| å¡ç‰‡é«˜åº¦ | ~200px | ~120px |
| å¡ç‰‡é—´è· | 1rem | 0.625rem |
| æ ‡é¢˜å¤§å° | 1.125rem | 0.9375rem |

### ä¸Šä¸‹ç¯‡å¯¼èˆª
| é¡¹ç›® | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| å¡ç‰‡é«˜åº¦ | 140px | 80px |
| æ ‡é¢˜å¤§å° | 1.125rem | 0.9375rem |
| padding | 1.5rem | 0.875rem |

### ç›¸å…³æ–‡ç« 
| é¡¹ç›® | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| å¡ç‰‡é«˜åº¦ | 120px | 70px |
| æ ‡é¢˜å¤§å° | 1.125rem | 0.875rem |
| padding | 1.25rem | 0.75rem |

---

## ğŸ¯ å¿«é€Ÿä¿®å¤æŒ‡ä»¤

### å®Œå…¨é‡æ–°å¼€å§‹
```bash
# åœæ­¢Hugo
Ctrl + C

# æ¸…ç†
hugo --gc
rd /s /q public
rd /s /q resources

# é‡æ–°å¯åŠ¨
hugo server -D --disableFastRender
```

### å¼ºåˆ¶åˆ·æ–°CSS
```bash
# ä¿®æ”¹CSSå
hugo server -D --disableFastRender --noHTTPCache
```

### æ£€æŸ¥ç”Ÿæˆçš„HTML
```bash
# æ„å»ºç«™ç‚¹
hugo

# æŸ¥çœ‹é¦–é¡µHTML
type public\index.html | findstr "mobile-optimizations"
```

---

## ğŸ’¡ é«˜çº§æŠ€å·§

### è‡ªå®šä¹‰æ–­ç‚¹
å¦‚æœä½ çš„è®¾å¤‡æ˜¯å¹³æ¿ï¼Œå¯ä»¥è°ƒæ•´æ–­ç‚¹ï¼š
```css
/* ä»768pxæ”¹ä¸º1024px */
@media (max-width: 1024px) {
  /* ç§»åŠ¨ç«¯æ ·å¼ */
}
```

### å®Œå…¨éšè—æŸä¸ªç»„ä»¶
```css
@media (max-width: 768px) {
  /* éšè—ç›¸å…³æ–‡ç«  */
  .related-posts {
    display: none !important;
  }
  
  /* éšè—ä¸Šä¸‹ç¯‡å¯¼èˆª */
  .post-navigation {
    display: none !important;
  }
}
```

### å•ç¯‡æ–‡ç« ç¦ç”¨ä¼˜åŒ–
åœ¨æ–‡ç«  front matter æ·»åŠ ï¼š
```yaml
---
title: "ç‰¹æ®Šæ–‡ç« "
customCSS: []  # ä¸åŠ è½½è‡ªå®šä¹‰CSS
---
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### æŸ¥çœ‹Hugoæ—¥å¿—
```bash
hugo server -D --verbose --debug
```

### æ£€æŸ¥CSSåŠ è½½
æµè§ˆå™¨æŒ‰ F12 â†’ Network â†’ ç­›é€‰ CSS â†’ æŸ¥çœ‹ mobile-optimizations.css æ˜¯å¦åŠ è½½

### æµ‹è¯•CSSé€‰æ‹©å™¨
æµè§ˆå™¨æŒ‰ F12 â†’ Elements â†’ ç‚¹å‡»å…ƒç´  â†’ çœ‹ Styles é¢æ¿æ˜¯å¦æœ‰ä½ çš„CSS

---

## âœ… æœ€ç»ˆæ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œä¾æ¬¡æ£€æŸ¥ï¼š

### æ–‡ä»¶å­˜åœ¨æ€§
- [ ] `static/css/mobile-optimizations.css`
- [ ] `static/å¤´åƒ.jpg`
- [ ] `content/discussions/_index.md`
- [ ] `layouts/discussions/single.html`
- [ ] `layouts/discussions/list.html`

### é…ç½®æ­£ç¡®æ€§
- [ ] `params.yaml` åŒ…å« `customCSS` é…ç½®
- [ ] `params.yaml` ä¸­ `avatar: "/å¤´åƒ.jpg"`
- [ ] `menus.yaml` åŒ…å«è®¨è®ºèœå•é¡¹

### åŠŸèƒ½éªŒè¯
- [ ] ç§»åŠ¨ç«¯å¯¼èˆªæ æ›´çª„
- [ ] é¦–é¡µåˆ—è¡¨æ— å›¾ç‰‡ï¼ˆç§»åŠ¨ç«¯ï¼‰
- [ ] æ–‡ç« è¯¦æƒ…é¡µç»„ä»¶æ›´ç´§å‡‘ï¼ˆç§»åŠ¨ç«¯ï¼‰
- [ ] è®¨è®ºæ¿å—å¯è®¿é—®
- [ ] è®¨è®ºè¯¦æƒ…é¡µæœ‰Giscusè¯„è®º
- [ ] æ¡Œé¢ç«¯æ ·å¼ä¸å—å½±å“

---

å…¨éƒ¨å®Œæˆåï¼Œä½ çš„åšå®¢ç§»åŠ¨ç«¯ä½“éªŒå°†å¤§å¹…æå‡ï¼
