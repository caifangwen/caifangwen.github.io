/* ========================================
   移动端全面优化 CSS
   ======================================== */

/* 移动端专用样式 */
@media (max-width: 768px) {
  
  /* ==================== 导航栏优化 ==================== */
  /* 导航栏更窄 */
  header {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
  
  header > div {
    padding: 0.625rem 1rem !important;
  }
  
  /* 主内容区域 - 文章起始位置更高 */
  main {
    padding-top: 0.5rem !important;
  }
  
  /* ==================== 首页文章列表优化 ==================== */
  
  /* 方案1: 使用类名选择器 - 隐藏移动端顶部封面 */
  .post-list article > a > div > div.block.md\:hidden {
    display: none !important;
  }
  
  /* 方案2: 使用更通用的选择器 */
  .post-list article .md\:hidden {
    display: none !important;
  }
  
  /* 卡片整体更扁 */
  .post-list article > a > div {
    padding: 0.875rem 1rem !important;
    min-height: auto !important;
  }
  
  /* 移除右侧图片占位 */
  .post-list article > a > div {
    padding-right: 1rem !important;
  }
  
  /* 标题优化 */
  .post-list article h3 {
    font-size: 0.9375rem !important;
    line-height: 1.35 !important;
    margin-bottom: 0.5rem !important;
  }
  
  /* 摘要优化 */
  .post-list article > a > div > div p {
    font-size: 0.8125rem !important;
    line-height: 1.4 !important;
    margin-bottom: 0.5rem !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    overflow: hidden !important;
  }
  
  /* 元信息区域 */
  .post-list article .mt-auto {
    margin-top: 0.5rem !important;
  }
  
  .post-list article .text-sm {
    font-size: 0.75rem !important;
  }
  
  /* 卡片间距缩小 */
  .post-list .space-y-4 {
    gap: 0.625rem !important;
  }
  
  .post-list .space-y-4 > * + * {
    margin-top: 0.625rem !important;
  }
  
  /* 标签更小 */
  .post-list article .flex-wrap span {
    font-size: 0.6875rem !important;
    padding: 0.125rem 0.375rem !important;
  }
  
  /* ==================== 上一篇/下一篇导航优化 ==================== */
  
  /* 减少高度 */
  .post-navigation a,
  .post-navigation > div > div > div {
    min-height: 80px !important;
    padding: 0.875rem !important;
  }
  
  /* 标题更小 */
  .post-navigation h3 {
    font-size: 0.9375rem !important;
    margin-bottom: 0.5rem !important;
    line-height: 1.3 !important;
  }
  
  /* 标签文字更小 */
  .post-navigation .text-sm {
    font-size: 0.75rem !important;
  }
  
  /* 日期更小 */
  .post-navigation .text-xs {
    font-size: 0.6875rem !important;
  }
  
  /* 减少间距 */
  .post-navigation .mb-3 {
    margin-bottom: 0.5rem !important;
  }
  
  /* 导航区域整体 */
  .post-navigation {
    margin-bottom: 2rem !important;
  }
  
  /* 卡片间距 */
  .post-navigation .gap-4 {
    gap: 0.5rem !important;
  }
  
  /* ==================== 相关文章优化 ==================== */
  
  /* 减少高度 */
  .related-posts article > a > div {
    min-height: 70px !important;
    padding: 0.75rem !important;
  }
  
  /* 标题更小 */
  .related-posts h3 {
    font-size: 0.875rem !important;
    line-height: 1.3 !important;
  }
  
  /* 标题区域 */
  .related-posts > div.mb-6 h2 {
    font-size: 1.25rem !important;
  }
  
  /* 减少上边距 */
  .related-posts {
    margin-bottom: 2rem !important;
  }
  
  .related-posts > div.mb-6 {
    margin-bottom: 1rem !important;
  }
  
  /* 网格间距 */
  .related-posts .gap-4 {
    gap: 0.5rem !important;
  }
  
  /* 单列显示 */
  .related-posts > div:last-child {
    grid-template-columns: 1fr !important;
  }
  
  /* ==================== 版权声明优化 ==================== */
  
  .post-license {
    padding: 0.875rem !important;
    margin-bottom: 1.5rem !important;
  }
  
  .post-license h3 {
    font-size: 0.9375rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .post-license .text-sm {
    font-size: 0.75rem !important;
  }
  
  .post-license p {
    margin-bottom: 0.25rem !important;
  }
  
  .post-license .space-y-2 {
    gap: 0.25rem !important;
  }
  
  .post-license .space-y-2 > * + * {
    margin-top: 0.25rem !important;
  }
  
  /* ==================== 面包屑导航 ==================== */
  
  nav[aria-label*="面包屑"],
  nav[aria-label*="Breadcrumb"] {
    margin-bottom: 1rem !important;
    font-size: 0.8125rem !important;
  }
  
  /* ==================== 文章头部信息 ==================== */
  
  header.mb-8 {
    margin-bottom: 1.5rem !important;
  }
  
  /* ==================== 评论区 ==================== */
  
  .giscus,
  .giscus-frame {
    margin-top: 1.5rem !important;
  }
}

/* ==================== 通用优化 ==================== */

/* 版权声明链接换行 */
.post-license a {
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

/* 确保移动端图片完全隐藏 */
@media (max-width: 768px) {
  /* 针对首页 */
  body:not(.single) .post-list .md\:block {
    display: none !important;
  }
  
  /* 隐藏绝对定位的桌面端图片 */
  .post-list article .absolute.md\:block {
    display: none !important;
  }
  
  /* 移除右侧padding */
  .post-list article .md\:pr-84 {
    padding-right: 1rem !important;
  }
}

/* 桌面端保持原样 */
@media (min-width: 769px) {
  /* 版权声明稍紧凑 */
  .post-license {
    padding: 1.125rem 1.25rem !important;
  }
}
